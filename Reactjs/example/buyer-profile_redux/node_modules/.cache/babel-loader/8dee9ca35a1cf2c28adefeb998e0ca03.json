{"ast":null,"code":"import _classCallCheck from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/src/components/Modal.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  background: white;\\n  border: 1px solid rgba(0,0,0,0.3);\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    width: calc(100% - 2rem);\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n\\n  z-index: 10;\\n\\n  width: \", \";\\n\\n  /* \\uBAA8\\uBC14\\uC77C \\uD658\\uACBD \\uD654\\uBA74 \\uACE0\\uC815 */\\n  \", \"\\n\\n  /* CSSTransitionGroup \\uC560\\uB2C8\\uBA54\\uC774\\uC158 */\\n  .modal-enter {\\n    animation: \", \" .5s ease-in-out;\\n    animation-fill-mode: forwards;\\n  }\\n\\n  .modal-leave {\\n    animation: \", \" .5s ease-in-out;\\n    animation-fill-mode: forwards;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components'; //컴포넌트의 외부를 클릭하는 이벤트 리스너\n\nimport onClickOutside from 'react-onclickoutside';\nimport { media, transitions } from '../lib/style-utils';\nimport CSSTransitionGroup from 'react-transition-group/CSSTransitionGroup';\nimport PropTypes from 'prop-types';\nvar Wrapper = styled.div(_templateObject(), function (props) {\n  return props.width;\n}, media.mobile(_templateObject2()), transitions.slideDown, transitions.slideUp);\nWrapper.propTypes = {\n  width: PropTypes.string\n};\nvar ModalBox = styled.div(_templateObject3());\n\nvar Modal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Modal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClickOutside = function (e) {\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          onHide = _this$props.onHide; //visible이 false 일 때\n\n      if (!visible) return null;\n      onHide();\n    };\n\n    _this.handleKeyUp = function (e) {\n      var onHide = _this.props.onHide;\n\n      if (e.keyCode === 27) {\n        onHide();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidUpdate\",\n    // lifeCycle 메서드\n    // esc 감지\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.visible !== this.props.visible) {\n        if (this.props.visible) {\n          document.body.addEventListener('keyup', this.handleKeyPress);\n        } else {\n          document.body.removeEventListener('keyup', this.handleKeyPress);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          visible = _this$props2.visible,\n          children = _this$props2.children,\n          width = _this$props2.width;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Wrapper, {\n        width: width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(CSSTransitionGroup, {\n        transitionName: \"modal\",\n        transitionEnterTimeout: 500,\n        transitionLeaveTimeout: 500,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, visible && React.createElement(ModalBox, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, children))));\n    }\n  }]);\n\n  return Modal;\n}(Component); // 컴포넌트를 onClickOutside 라이브러리로 감싸주면\n// 컴포넌트 외부를 클릭할 때, handleClickOutside 함수가 실행된다.\n\n\nModal.propTypes = {\n  visible: PropTypes.bool,\n  onHide: PropTypes.func,\n  width: PropTypes.string\n};\nModal.defaultProps = {\n  width: '400px' // 컴포넌트 외부 클릭시 실행되는 메서드(onClickoutside에 적용시킬 메서드)\n\n};\nexport default onClickOutside(Modal);","map":{"version":3,"sources":["/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/src/components/Modal.js"],"names":["React","Component","styled","onClickOutside","media","transitions","CSSTransitionGroup","PropTypes","Wrapper","div","props","width","mobile","slideDown","slideUp","propTypes","string","ModalBox","Modal","handleClickOutside","e","visible","onHide","handleKeyUp","keyCode","prevProps","prevState","document","body","addEventListener","handleKeyPress","removeEventListener","children","bool","func","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CACA;;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,oBAAnC;AACA,OAAOC,kBAAP,MAA+B,2CAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,IAAMC,OAAO,GAAGN,MAAM,CAACO,GAAV,oBAQD,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAV;AAAA,CARJ,EAWTP,KAAK,CAACQ,MAXG,sBAiBIP,WAAW,CAACQ,SAjBhB,EAsBIR,WAAW,CAACS,OAtBhB,CAAb;AA2BAN,OAAO,CAACO,SAAR,GAAoB;AAClBJ,EAAAA,KAAK,EAAEJ,SAAS,CAACS;AADC,CAApB;AAIA,IAAMC,QAAQ,GAAGf,MAAM,CAACO,GAAV,oBAAd;;IAKMS,K;;;;;;;;;;;;;;;;;;UAWJC,kB,GAAqB,UAACC,CAAD,EAAO;AAAA,wBACE,MAAKV,KADP;AAAA,UAClBW,OADkB,eAClBA,OADkB;AAAA,UACTC,MADS,eACTA,MADS,EAE1B;;AACA,UAAG,CAACD,OAAJ,EAAa,OAAO,IAAP;AACbC,MAAAA,MAAM;AACP,K;;UAEDC,W,GAAc,UAACH,CAAD,EAAO;AAAA,UACXE,MADW,GACA,MAAKZ,KADL,CACXY,MADW;;AAEnB,UAAGF,CAAC,CAACI,OAAF,KAAc,EAAjB,EAAqB;AACnBF,QAAAA,MAAM;AACP;AACF,K;;;;;;;AACD;AACA;uCACmBG,S,EAAWC,S,EAAW;AACvC,UAAGD,SAAS,CAACJ,OAAV,KAAsB,KAAKX,KAAL,CAAWW,OAApC,EAA4C;AAC1C,YAAG,KAAKX,KAAL,CAAWW,OAAd,EAAsB;AACpBM,UAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwC,KAAKC,cAA7C;AACD,SAFD,MAEM;AACJH,UAAAA,QAAQ,CAACC,IAAT,CAAcG,mBAAd,CAAkC,OAAlC,EAA2C,KAAKD,cAAhD;AACD;AACF;AACF;;;6BAEO;AAAA,yBAC+B,KAAKpB,KADpC;AAAA,UACEW,OADF,gBACEA,OADF;AAAA,UACWW,QADX,gBACWA,QADX;AAAA,UACqBrB,KADrB,gBACqBA,KADrB;AAEN,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAEA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,kBAAD;AACE,QAAA,cAAc,EAAC,OADjB;AAEE,QAAA,sBAAsB,EAAE,GAF1B;AAGE,QAAA,sBAAsB,EAAE,GAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKIU,OAAO,IAAK,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAWW,QAAX,CALhB,CADF,CADF,CADF;AAcD;;;;EApDiB/B,S,GAuDpB;AACA;;;AAxDMiB,K,CACGH,S,GAAY;AACjBM,EAAAA,OAAO,EAAEd,SAAS,CAAC0B,IADF;AAEjBX,EAAAA,MAAM,EAAEf,SAAS,CAAC2B,IAFD;AAGjBvB,EAAAA,KAAK,EAAEJ,SAAS,CAACS;AAHA,C;AADfE,K,CAMGiB,Y,GAAe;AACpBxB,EAAAA,KAAK,EAAE,OADa,CAItB;;AAJsB,C;AAmDxB,eAAeR,cAAc,CAACe,KAAD,CAA7B","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\n//컴포넌트의 외부를 클릭하는 이벤트 리스너\nimport onClickOutside from 'react-onclickoutside';\nimport { media, transitions } from '../lib/style-utils';\nimport CSSTransitionGroup from 'react-transition-group/CSSTransitionGroup';\nimport PropTypes from 'prop-types';\n\nconst Wrapper = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  z-index: 10;\n\n  width: ${ props => props.width };\n\n  /* 모바일 환경 화면 고정 */\n  ${media.mobile`\n    width: calc(100% - 2rem);\n  `}\n\n  /* CSSTransitionGroup 애니메이션 */\n  .modal-enter {\n    animation: ${transitions.slideDown} .5s ease-in-out;\n    animation-fill-mode: forwards;\n  }\n\n  .modal-leave {\n    animation: ${transitions.slideUp} .5s ease-in-out;\n    animation-fill-mode: forwards;\n  }\n`;\n\nWrapper.propTypes = {\n  width: PropTypes.string\n};\n\nconst ModalBox = styled.div`\n  background: white;\n  border: 1px solid rgba(0,0,0,0.3);\n`\n\nclass Modal extends Component {\n  static propTypes = {\n    visible: PropTypes.bool,\n    onHide: PropTypes.func,\n    width: PropTypes.string,\n  }\n  static defaultProps = {\n    width: '400px'\n  }\n\n  // 컴포넌트 외부 클릭시 실행되는 메서드(onClickoutside에 적용시킬 메서드)\n  handleClickOutside = (e) => {\n    const { visible, onHide } = this.props;\n    //visible이 false 일 때\n    if(!visible) return null;\n    onHide();\n  }\n  // esc 키 눌렀을 때 onHide\n  handleKeyUp = (e) => {\n    const { onHide } = this.props;\n    if(e.keyCode === 27) {\n      onHide();\n    }\n  }\n  // lifeCycle 메서드\n  // esc 감지\n  componentDidUpdate(prevProps, prevState) {\n    if(prevProps.visible !== this.props.visible){\n      if(this.props.visible){\n        document.body.addEventListener('keyup', this.handleKeyPress);\n      }else {\n        document.body.removeEventListener('keyup', this.handleKeyPress);\n      }\n    }\n  }\n\n  render(){\n    const { visible, children, width } = this.props;\n    return (\n      <div>\n        <Wrapper width={width}>\n          <CSSTransitionGroup\n            transitionName=\"modal\"\n            transitionEnterTimeout={500}\n            transitionLeaveTimeout={500}>\n            {\n              visible && (<ModalBox>{children}</ModalBox>)\n            }\n          </CSSTransitionGroup>\n        </Wrapper>\n      </div>\n    );\n  }\n}\n\n// 컴포넌트를 onClickOutside 라이브러리로 감싸주면\n// 컴포넌트 외부를 클릭할 때, handleClickOutside 함수가 실행된다.\nexport default onClickOutside(Modal);\n"]},"metadata":{},"sourceType":"module"}