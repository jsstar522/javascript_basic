{"ast":null,"code":"import _classCallCheck from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/src/containers/ContactModalContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport ContactModal from '../components/ContactModal'; //모달이 켜지면 주변이 어둡게 변함\n\nimport Dimmed from '../components/Dimmed';\nimport * as modalActions from '../modules/modal';\nimport * as contactsActions from '../modules/contacts';\nimport shortid from 'shortid';\n\nvar ContactModalContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ContactModalContainer, _Component);\n\n  function ContactModalContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ContactModalContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ContactModalContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleChange = function (_ref) {\n      var name = _ref.name,\n          value = _ref.value;\n      var ModalActions = _this.props.ModalActions;\n      ModalActions.change({\n        name: name,\n        value: value\n      });\n    };\n\n    _this.handleHide = function () {\n      var ModalActions = _this.props.ModalActions;\n      ModalActions.hide();\n    };\n\n    _this.handleRemove = function () {\n      var _this$props = _this.props,\n          ContactActions = _this$props.ContactActions,\n          modal = _this$props.modal;\n      var id = modal.getIn(['contact', 'id']);\n      ContactActions.remove(id);\n\n      _this.handleHide();\n    };\n\n    _this.handleAction = {\n      create: function create() {\n        var _this$props2 = _this.props,\n            ContactActions = _this$props2.ContactActions,\n            modal = _this$props2.modal; // immutable로 받아오기 때문에 toJS() 실행\n\n        var _modal$get$toJS = modal.get('contact').toJS(),\n            name = _modal$get$toJS.name,\n            phone = _modal$get$toJS.phone,\n            color = _modal$get$toJS.color;\n\n        var id = shortid.generate();\n        ContactActions.create({\n          id: id,\n          name: name,\n          phone: phone,\n          color: color\n        });\n\n        _this.handleHide();\n      },\n      modify: function modify() {\n        var _this$props3 = _this.props,\n            ContactActions = _this$props3.ContactActions,\n            modal = _this$props3.modal;\n\n        var _modal$get$toJS2 = modal.get('contact').toJS(),\n            id = _modal$get$toJS2.id,\n            name = _modal$get$toJS2.name,\n            phone = _modal$get$toJS2.phone;\n\n        ContactActions.modify({\n          id: id,\n          contact: {\n            name: name,\n            phone: phone\n          }\n        });\n\n        _this.handleHide();\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ContactModalContainer, [{\n    key: \"render\",\n    value: function render() {\n      var modal = this.props.modal;\n\n      var _modal$toJS = modal.toJS(),\n          visible = _modal$toJS.visible,\n          mode = _modal$toJS.mode,\n          contact = _modal$toJS.contact;\n\n      var handleHide = this.handleHide,\n          handleAction = this.handleAction,\n          handleChange = this.handleChange,\n          handleRemove = this.handleRemove;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(ContactModal, {\n        visible: visible,\n        mode: mode,\n        name: contact.name,\n        phone: contact.phone,\n        color: contact.color,\n        onHide: handleHide,\n        onAction: handleAction[mode],\n        onRemove: handleRemove,\n        onChange: handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(Dimmed, {\n        visible: visible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ContactModalContainer;\n}(Component);\n\nexport default connect(function (state) {\n  return {\n    modal: state.modal\n  };\n}, function (dispatch) {\n  return {\n    ContactActions: bindActionCreators(contactsActions, dispatch),\n    ModalActions: bindActionCreators(modalActions, dispatch)\n  };\n})(ContactModalContainer);","map":{"version":3,"sources":["/Users/jongseokpark/Desktop/infinite_learn/javascript_basic/Reactjs/example/buyer-profile_redux/src/containers/ContactModalContainer.js"],"names":["React","Component","connect","bindActionCreators","ContactModal","Dimmed","modalActions","contactsActions","shortid","ContactModalContainer","handleChange","name","value","ModalActions","props","change","handleHide","hide","handleRemove","ContactActions","modal","id","getIn","remove","handleAction","create","get","toJS","phone","color","generate","modify","contact","visible","mode","state","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport ContactModal from '../components/ContactModal';\n//모달이 켜지면 주변이 어둡게 변함\nimport Dimmed from '../components/Dimmed';\n\nimport * as modalActions from '../modules/modal';\nimport * as contactsActions from '../modules/contacts';\n\nimport shortid from 'shortid';\n\nclass ContactModalContainer extends Component {\n  \n  // modal 값 변화 감지\n  handleChange = ({name, value}) => {\n    const { ModalActions } = this.props;\n    ModalActions.change({\n      name,\n      value\n    });\n  }\n  \n  // modal 창 숨기기\n  handleHide = () => {\n    const { ModalActions } = this.props;\n    ModalActions.hide();\n  }\n\n  // 해당목록 삭제\n  handleRemove = () => {\n    const { ContactActions, modal } = this.props;\n    const id = modal.getIn(['contact', 'id']);\n\n    ContactActions.remove(id);\n    this.handleHide();\n  }\n\n  // 해당목록 생성, 수정\n  // handleAction 객체에 두 함수를 넣음.\n  handleAction = {\n    create: () => {\n      const { ContactActions, modal } = this.props;\n      // immutable로 받아오기 때문에 toJS() 실행\n      const { name, phone, color } = modal.get('contact').toJS();\n      const id = shortid.generate();\n\n      ContactActions.create({\n        id,\n        name,\n        phone,\n        color,\n      });\n\n      this.handleHide();\n    },\n\n    modify: () => {\n      const { ContactActions, modal } = this.props;\n      const { id, name, phone } = modal.get('contact').toJS();\n\n      ContactActions.modify({\n        id,\n        contact: {\n          name,\n          phone\n        }\n      });\n      this.handleHide();\n    }\n  }\n\n  render(){\n    const { modal } = this.props;\n    const { visible, mode, contact } = modal.toJS();\n\n    const {\n      handleHide,\n      handleAction,\n      handleChange,\n      handleRemove\n    } = this;\n\n    return (\n      <div>\n        <ContactModal\n          visible={visible}\n          mode={mode}\n          name={contact.name}\n          phone={contact.phone}\n          color={contact.color}\n          onHide={handleHide}\n          onAction={handleAction[mode]}\n          onRemove={handleRemove}\n          onChange={handleChange}\n        />\n        <Dimmed visible={visible}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    modal: state.modal\n  }),\n  (dispatch) => ({\n    ContactActions: bindActionCreators(contactsActions, dispatch),\n    ModalActions: bindActionCreators(modalActions, dispatch),\n  })\n)(ContactModalContainer);"]},"metadata":{},"sourceType":"module"}